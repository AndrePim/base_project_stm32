# STM32F103 Base Project. VSCode + CMake + Ubuntu

## Описание проекта
Этот проект является базовым шаблоном для разработки приложений на микроконтроллере STM32F103C8T6. Он содержит минимально необходимую реализацию для быстрого старта с использованием периферии микроконтроллера. На текущий момент реализованы следующие функции:
- Инициализация UART для обмена данными.
- Мигание встроенным светодиодом на плате.
Проект разработан с целью дальнейшего расширения и добавления новых интерфейсов (SPI, I2C и другие). Каждый новый функционал будет реализовываться в отдельных ветках или отмечаться тегами для удобства использования.
---
## Структура проекта
```
📦stm32f103_right_setup
 ┣ 📂.git
 ┣ 📂.vscode
 ┃ ┣ 📜launch.json
 ┃ ┗ 📜tasks.json
 ┣ 📂Core
 ┃ ┣ 📂Inc
 ┃ ┃ ┣ 📜gpio.h
 ┃ ┃ ┣ 📜main.h
 ┃ ┃ ┣ 📜stm32f1xx_hal_conf.h
 ┃ ┃ ┣ 📜stm32f1xx_it.h
 ┃ ┃ ┗ 📜usart.h
 ┃ ┗ 📂Src
 ┃ ┃ ┣ 📜gpio.c
 ┃ ┃ ┣ 📜main.c
 ┃ ┃ ┣ 📜stm32f1xx_hal_msp.c
 ┃ ┃ ┣ 📜stm32f1xx_it.c
 ┃ ┃ ┣ 📜syscalls.c
 ┃ ┃ ┣ 📜sysmem.c
 ┃ ┃ ┣ 📜system_stm32f1xx.c
 ┃ ┃ ┗ 📜usart.c
 ┣ 📂cmake
 ┃ ┣ 📂stm32cubemx
 ┃ ┃ ┗ 📜CMakeLists.txt
 ┃ ┗ 📜gcc-arm-none-eabi.cmake
 ┣ 📜.gitignore
 ┣ 📜.mxproject
 ┣ 📜CMakeLists.txt
 ┣ 📜CMakePresets.json
 ┣ 📜README.md
 ┣ 📜STM32F103.svd
 ┣ 📜flash.jlink
 ┣ 📜startup_stm32f103xb.s
 ┣ 📜stm32f103_right_setup.ioc
 ┗ 📜stm32f103c8tx_flash.ld
 ```
---
## Основной функционал
### 1. UART (USART1)
Реализована базовая передача данных через UART с использованием аппаратной библиотеки HAL. На данный момент реализована функция `send_uart`, которая отправляет строку данных:
```c
void send_uart(const char *data) {
    HAL_UART_Transmit(&huart1, (uint8_t*)data, strlen(data), HAL_MAX_DELAY);
}
```
Пример передачи данных: 
- Каждую секунду отправляется строка `"Hello from STM32!\r\n"` в UART1.
### 2. Мигание светодиодом
Микроконтроллер переключает состояние встроенного светодиода на пине `GPIOC_PIN_13` с интервалом в одну секунду.
---
## Использование проекта
1. Клонируйте репозиторий:
   ```bash
   git clone git@github.com:AndrePim/base_project_stm32.git
   ```
2. Импортируйте проект в IDE (например, STM32CubeIDE, VS Code).
3. Скомпилируйте проект и загрузите прошивку на STM32F103C8T6.

4. Подключите UART (USART1) к компьютеру через USB-UART адаптер и откройте любой терминал (например, screen) с настройками:
   - Скорость: 115200
   - Биты данных: 8
   - Чётность: отсутствует
   - Стоп-бит: 1
---
## Планы по развитию
- Добавление поддержки интерфейсов:
  - SPI
  - I2C
  - PWM
- Реализация обработки прерываний.
- Создание примеров использования таймеров.
- Организация структур для работы с датчиками.
---
